<div class="profile-page tx-13">
  <input type="file" class="amcahidden" accept="image/*" (click)="resetFileInput()"
       (change)="onFileSelected($event)" #fileUpload>
  <div class="row profile-body">
    <div class="d-md-block" *ngIf="!showModifyForm">
      <button class="btn btn-primary btn-icon-text btn-edit-profile"
        (click)="toggleShowModifyForm()">
        <i
          data-feather="edit"
          appFeatherIcon
          class="btn-icon-prepend"></i>
        {{"updateProfile"|translate}}
      </button>
    </div>
    <div class="d-md-block" *ngIf="showModifyForm">
      <button class="btn btn-primary btn-icon-text btn-edit-profile"
        (click)="toggleShowModifyForm()">
        <i
          data-feather="info"
          appFeatherIcon
          class="btn-icon-prepend"></i>

        {{"infoProfile"|translate}}
      </button>
    </div>
    <!-- left wrapper start -->
    <div class="d-md-block w-50 mx-auto bigMobile" *ngIf="showModifyForm">
      <div class="card rounded">
        <form class="card-body" [formGroup]="validationEditForm"
          (ngSubmit)="updateProfile()">
          <div class="d-flex align-items-center justify-content-between mb-2">
            <h6 class="card-title mb-0 text-center w-100">
              <i data-feather="edit" appFeatherIcon
                class="btn-icon-prepend mr-2"></i> {{"updateProfile"|translate}}
            </h6>
          </div>
          
        <app-avatar     mat-raised-button #tooltip="matTooltip" matTooltip="{{'changePhoto'|translate}}" matTooltipPosition="above" matTooltipHideDelay="1000"
                        (click)="fileUpload.click()" class="img-center" [short]="userData.firstName[0].toUpperCase()+userData.lastName[0].toUpperCase()"
                        [src]="photoName">
        </app-avatar>
          <div class="mt-3">
            <label class="control-label font-weight-bold text-uppercase">{{"lastName"|translate}}</label>
            <input
              type="text"
              class="form-control"
              placeholder="Enterez le nouveau nom"
              formControlName="lastname"
              [ngClass]="{'is-invalid':submitted && editForm.lastname.errors}" />
            <div *ngIf="submitted && editForm.lastname.errors?.required"
              class="invalid-feedback">
              {{ "RequiredField" | translate }}
            </div>
          </div>
          <div class="mt-3">
            <label class="control-label font-weight-bold text-uppercase">{{"firstName"|translate}}</label>
            <input
              type="text"
              class="form-control"
              placeholder="Enterez le nouveau prÃ©nom"
              formControlName="firstname"
              [ngClass]="{'is-invalid':submitted && editForm.firstname.errors}" />
            <div *ngIf="submitted && editForm.firstname.errors?.required"
              class="invalid-feedback">
              {{ "RequiredField" | translate }}
            </div>
          </div>
          <div class="mt-3">
            <label class="control-label font-weight-bold text-uppercase">{{"email"|translate}}</label>
            <input
              type="text"
              class="form-control"
              placeholder="Enterez le nouveau email"
              formControlName="email"
              [ngClass]="{'is-invalid':submitted && editForm.email.errors}" />
            <div *ngIf="submitted && editForm.email.errors?.required"
              class="invalid-feedback">
              {{ "RequiredField" | translate }}
            </div>
            <div *ngIf="submitted && editForm.email.errors?.email"
              class="invalid-feedback">
              {{ "EmailField" | translate }}
            </div>
          </div>

          <div class="mt-3" style="text-align: center;">
            <button [disabled]="dataSent" class="btn btn-primary" type="submit">
              <span [ngStyle]="!dataSent&&{'display':'none'}"
                style=" margin: 3px 2px;"
                class="spinner-border spinner-border-sm" role="status"
                aria-hidden="true"></span>
              {{"update"|translate}}
            </button>
          </div>
        </form>
      </div>
    </div>
    <!-- left wrapper end -->
    <!-- middle wrapper start -->
    <div class="d-md-block w-50 mx-auto bigMobile" *ngIf="!showModifyForm">
      <div class="card rounded">
        <div class="card-body">
          <app-avatar class="img-center" [short]="userData.firstName[0].toUpperCase()+userData.lastName[0].toUpperCase()"
                        [name]="userData.firstName+' '+userData.lastName"
                        [src]="photoName">
          </app-avatar>
          <div class="d-flex align-items-center justify-content-between mb-2">
            <h6 class="card-title mb-0 text-center w-100">
              <i
                data-feather="info"
                appFeatherIcon
                class="btn-icon-prepend mr-2"></i>
              {{"infoProfile"|translate}}
            </h6>
          </div>
          <div class="mt-3">
            <label class="tx-11 font-weight-bold mb-0 text-uppercase">{{"lastName"|translate}}</label>
            <p class="text-muted">{{ userData.lastName }}</p>
          </div>
          <div class="mt-3">
            <label class="tx-11 font-weight-bold mb-0 text-uppercase">{{"firstName"|translate}}</label>
            <p class="text-muted">{{ userData.firstName }}</p>
          </div>
          <div class="mt-3">
            <label class="tx-11 font-weight-bold mb-0 text-uppercase">{{"email"|translate}}</label>
            <p class="text-muted">{{ userData.email }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>